{"version":3,"sources":["components/linkcrud/CloseButton.js","components/linkcrud/LinkDeletor.js"],"names":["CloseButton","setProcessNull","useProcessLink","type","onClick","LinkDeletor","deleteLinkFromLinks","useLinks","processLink","link","full","_id","short","useState","error","setError","deleteLink","event","preventDefault","axios","delete","then","res","catch","err","onSubmit","shortlyUrl","id"],"mappings":"oGAAA,mCAYeA,IAPK,WAAO,IACfC,EAAmBC,cAAnBD,eACR,OACI,kBAAC,IAAD,CAAQE,KAAK,SAASC,QAASH,GAA/B,W,sIC8BOI,UA7BK,WAAO,IACfC,EAAwBC,cAAxBD,oBADc,EAEoDJ,cAFpD,IAEdM,YAAcC,EAFA,EAEAA,KAFA,IAEMA,KAAYC,GAFlB,EAEaC,IAFb,EAEkBD,MAAME,EAFxB,EAEwBA,MAASX,EAFjC,EAEiCA,eAFjC,EAGMY,qBAHN,mBAGdC,EAHc,KAGPC,EAHO,KAUhBC,EAAa,SAACC,GAChBA,EAAMC,iBACNC,IAAMC,OAAN,qBAA2BX,EAAKE,MAC/BU,MAAM,SAAAC,GAAG,OAPVhB,EAAoB,CAACG,cACrBR,OAOCsB,OAAO,SAAAC,GAAG,OAAIT,EAAS,uCAG5B,OACQ,kBAAC,IAAD,CAAWU,SAAU,SAAAR,GAAK,OAAID,EAAWC,KACrC,mDACA,2BAAIP,GACJ,2BAAIgB,IAAYd,GACdE,GAAS,kBAAC,IAAD,CAAOA,MAAOA,IACzB,kBAAC,IAAD,CAAea,GAAG,UAAlB,UACA,kBAAC,IAAD","file":"static/js/5.8ab4553a.chunk.js","sourcesContent":["import React from 'react';\r\nimport { Button } from '../Styles';\r\nimport { useProcessLink } from '../../hooks/useProcessLink';\r\n\r\n\r\nconst CloseButton = () => {\r\n    const { setProcessNull } = useProcessLink();\r\n    return (\r\n        <Button type=\"button\" onClick={setProcessNull}>Close</Button>\r\n    )\r\n};\r\n\r\nexport default CloseButton;\r\n\r\n","import React, { useState } from 'react';\r\nimport { LinkModal, PrimaryButton } from '../Styles';\r\nimport axios from 'axios';\r\nimport { shortlyUrl } from '../../utilities/url';\r\nimport Error from '../Error';\r\nimport CloseButton from './CloseButton';\r\nimport { useLinks } from '../../hooks/useLinks';\r\nimport { useProcessLink } from '../../hooks/useProcessLink';\r\n\r\nconst LinkDeletor = () => {\r\n    const { deleteLinkFromLinks } = useLinks();\r\n    const { processLink: {link, link: {_id, full, short}}, setProcessNull } = useProcessLink();\r\n    const [ error, setError ] = useState();\r\n\r\n    const updateState = () => {\r\n        deleteLinkFromLinks({link});\r\n        setProcessNull();\r\n    }\r\n\r\n    const deleteLink = (event) => {\r\n        event.preventDefault();\r\n        axios.delete(`/api/links/${link._id}`)\r\n        .then( res => updateState())\r\n        .catch( err => setError('Delete failed, please try again'));\r\n    }\r\n    \r\n    return (\r\n            <LinkModal onSubmit={event => deleteLink(event)}>\r\n                <h3>Delete Shortly Link</h3>\r\n                <p>{full}</p>\r\n                <p>{shortlyUrl +short}</p>\r\n                { error && <Error error={error}/> }\r\n                <PrimaryButton id=\"delete\">Delete</PrimaryButton>\r\n                <CloseButton/>\r\n            </LinkModal> \r\n    )\r\n};\r\n\r\nexport default LinkDeletor;\r\n"],"sourceRoot":""}